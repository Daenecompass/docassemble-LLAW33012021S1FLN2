#---
#features:
#  javascript: datereplace.js
---
include:
  - LM_image_sets.yml
---
question: |
  What is your full name?
fields:
  - First Name: FLNuser_firstname
    datatype: raw
  - Last Name: FLNuser_lastname
    datatype: raw
---
question: |
  Please enter the full name of the person who has been refused transportation.
fields:
  - First Name: FLNrefused_firstname
    datatype: raw
  - Last Name: FLNrefused_lastname
    datatype: raw
---
question: |
  % if FLNself_reporting:
  What is your phone number?
  % else:
  Please enter the phone number of the person who was refused access.
  % endif
fields:
 - Phone Number: FLNphone
   datatype: raw
---
question: |
  % if FLNself_reporting:
  What is your e-mail address?
  % else:
  Please enter the e-mail address of the person who was refused access.
  % endif
fields:
  - E-mail: user_email
    datatype: email
---
question: |
  Which kind of transport were you trying to use when you were refused?
field: transport_type
buttons:
  - "UBER": "Uber"
    image: uber_image
  - "TAXI": "Taxi"
    image: taxi_image
  - "BUS": "Bus"
    image: bus_image
  - "TRAIN": "Train"
    image: train_image
  - "DIDI": "DiDi"
    image: didi_image
  - "OLA": "Ola"
    image: ola_image  
  - "TRAM": "Tram"
    image: tram_image
  - "OTHER": "Other"
    image: other_image
---
question: |
  Enter the name of the company / person that refused you service because of your assistance animal
fields:
  - Details: other_details
    datatype: raw
---
question: When did the incident occur?
subquestion: |
  This defaults to today's date, but you can edit it if needed
fields:
  - Date: FLNdate
    datatype: date
    default: |
      ${ today() }
---
question: |
  What time did the refusal occur?
fields:
  # Based on https://docassemble.org/docs/fields.html#time
  # and https://docassemble.org/docs/functions.html#date%20functions
  # For some reason current_datetime().time() doesn't work to set the default time,
  # while e.g. as_datetime('07:30 AM').time() does, so use something based on
  # that as a workaround
  - Time: FLNrefusal_time
    datatype: time
    default: |
      ${ as_datetime(current_datetime().strftime('%H:%M:00')).time() }
---
question: |
  Did the driver state their reason for the refusal?
field: FLNrefusal_reason
buttons:
  - "Yes": Yes
  - "No": No
script: |
  <script>
    $(".da-field-buttons").addClass("yes-no-buttons");
  </script>
---
question: |
  What was said by the driver during the refusal?
fields:
  - Details: driver_statement
    input type: area
    datatype: raw
---
question: |
  % if FLNself_reporting:
  Were you asked to show accredited assistance animal ID?
  % else:
  Did the driver ask to see accredited assistance animal ID?
  % endif
field: refuser_asked_animal_id
buttons:
  - "Yes": Yes
  - "No": No
script: |
  <script>
    $(".da-field-buttons").addClass("yes-no-buttons");
  </script>
---
question: |
  % if FLNself_reporting:
  Did you provide ID?
  % else:
  Was ID provided?
  % endif
field: user_show_id
buttons:
  - "Yes": Yes
  - "No": No
script: |
  <script>
    $(".da-field-buttons").addClass("yes-no-buttons");
  </script>
---
question: |
  Do you have any supporting evidence you want to attach?
field: attach_evidence
buttons:
  - "Yes": Yes
  - "No": No
script: |
  <script>
    $(".da-field-buttons").addClass("yes-no-buttons");
  </script>
---
question: |
  Unfortunately, this is not unlawful as you did not provide ID.
subquestion: |
  Would you like to continue anyway?
field: continue_unlawful_report
buttons:
  - "Yes": Yes
  - "No": No
script: |
  <script>
    $(".da-field-buttons").addClass("yes-no-buttons");
  </script>
---
question: |
  Please add any files.
fields:
  - Documents: uploaded_files
    datatype: files
    accept: |
      "image/jpeg, image/png"
---

